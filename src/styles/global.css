/**
 * IMACS Design System - Global Styles
 * Institute for Health Modeling and Climate Solutions
 *
 * This file contains all global CSS styles, animations, and responsive breakpoints.
 * Import this file in your main entry point (e.g., main.jsx or index.jsx).
 *
 * Required fonts (add to index.html or load dynamically):
 * - IBM Plex Sans: https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500&display=swap
 * - Material Symbols: https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200
 */

/* ============================================
   RESET & BASE STYLES
   ============================================ */

*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  width: 100%;
  overflow-x: hidden;
  max-width: 100%;
}

body {
  width: 100%;
  min-height: 100vh;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
  font-family: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: #FAFBFC;
  color: #0D1B2A;
  line-height: 1.6;
  font-size: 15px;
  letter-spacing: -0.01em;
  /* iOS Safe Area Support */
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

#root {
  /* No height or overflow properties - this breaks position: fixed and scroll detection */
}

/* ============================================
   TYPOGRAPHY
   ============================================ */

.material-symbols-outlined {
  font-family: 'Material Symbols Outlined';
  font-size: 24px;
  line-height: 1;
  display: inline-block;
}

code, pre {
  font-family: 'IBM Plex Mono', 'Fira Code', 'Consolas', monospace;
}

/* Responsive typography with clamp */
.hero-title {
  font-size: clamp(28px, 6vw, 48px) !important;
}

.hero-subtitle {
  font-size: clamp(14px, 3vw, 18px) !important;
}

.section-title {
  font-size: clamp(24px, 5vw, 36px) !important;
}

/* ============================================
   ANIMATIONS
   ============================================ */

@keyframes fadeUp {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

@keyframes bounce {
  0%, 100% { transform: translateX(-50%) translateY(0); }
  50% { transform: translateX(-50%) translateY(8px); }
}

@keyframes heroFloat {
  0%, 100% { transform: translate(0, 0); }
  25% { transform: translate(10px, -10px); }
  50% { transform: translate(-5px, 5px); }
  75% { transform: translate(-10px, -5px); }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes cycloneRotate {
  0% { transform: scale(1.15) rotate(0deg); }
  100% { transform: scale(1.15) rotate(360deg); }
}

@keyframes cyclonePan {
  0% { transform: translate(0, 0) scale(1.1); }
  25% { transform: translate(-2%, -1%) scale(1.12); }
  50% { transform: translate(-1%, 1%) scale(1.1); }
  75% { transform: translate(1%, -1%) scale(1.12); }
  100% { transform: translate(0, 0) scale(1.1); }
}

@keyframes cloudDrift {
  0% { transform: translateX(0) scale(1.05); }
  50% { transform: translateX(-3%) scale(1.08); }
  100% { transform: translateX(0) scale(1.05); }
}

/* Animation utility classes */
.anim {
  animation: fadeUp 0.4s ease forwards;
}

.d1 { animation-delay: 0.05s; opacity: 0; }
.d2 { animation-delay: 0.1s; opacity: 0; }
.d3 { animation-delay: 0.15s; opacity: 0; }
.d4 { animation-delay: 0.2s; opacity: 0; }

/* ============================================
   INTERACTIVE ELEMENTS
   ============================================ */

.interactive {
  cursor: pointer;
  transition: all 0.15s ease;
}

.interactive:hover {
  background: rgba(0, 51, 102, 0.04);
}

/* ============================================
   SCROLLBAR STYLING
   ============================================ */

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #F1F4F8;
}

::-webkit-scrollbar-thumb {
  background: #CFD8DC;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #B0BEC5;
}

/* ============================================
   ACCESSIBILITY
   ============================================ */

button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: 2px solid #003366;
  outline-offset: 2px;
}

::selection {
  background: rgba(0, 51, 102, 0.2);
}

/* ============================================
   UTILITY CLASSES
   ============================================ */

/* Skeleton loader */
.skeleton {
  background: linear-gradient(90deg, #E8ECF2 25%, #F1F4F8 50%, #E8ECF2 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

/* Responsive images and SVGs */
img, svg, video {
  max-width: 100%;
  height: auto;
}

/* ============================================
   GRID LAYOUTS
   ============================================ */

.decisions-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 24px;
}

/* ============================================
   RESPONSIVE BREAKPOINTS
   ============================================ */

/* Mobile breakpoint - 480px and below */
@media (max-width: 480px) {
  .hero-metrics {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 12px !important;
  }

  .hero-cta-buttons {
    flex-direction: column !important;
    width: 100% !important;
  }

  .hero-cta-buttons button {
    width: 100% !important;
    justify-content: center !important;
  }

  .section-padding {
    padding: 60px 16px !important;
  }

  .architecture-cards {
    display: flex !important;
    flex-direction: column !important;
    gap: 16px !important;
  }

  .metrics-grid {
    grid-template-columns: 1fr 1fr !important;
  }

  .user-cards-grid {
    grid-template-columns: 1fr !important;
    gap: 16px !important;
  }

  .decisions-grid {
    grid-template-columns: 1fr !important;
  }

  .catalog-cards-grid {
    grid-template-columns: 1fr !important;
    gap: 16px !important;
  }

  .catalog-card {
    flex-direction: column !important;
    min-height: auto !important;
  }

  .catalog-card > div:first-child {
    width: 100% !important;
    min-width: 100% !important;
    height: 180px !important;
  }

  .catalog-card > div:last-child {
    padding: 16px !important;
  }

  .card-preview-scaled {
    transform: scale(0.45) !important;
  }
}

/* Tablet breakpoint - 768px and below */
@media (max-width: 768px) {
  .hero-content {
    padding: 0 20px !important;
  }

  .section-padding {
    padding: 60px 20px !important;
  }

  .hero-metrics {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 12px !important;
  }

  .hero-cta-buttons {
    flex-direction: column !important;
    width: 100% !important;
    gap: 12px !important;
  }

  .hero-cta-buttons button {
    width: 100% !important;
    justify-content: center !important;
  }

  .architecture-cards {
    display: flex !important;
    flex-direction: column !important;
    gap: 16px !important;
  }

  .architecture-cards > div {
    width: 100% !important;
  }

  .metrics-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  .user-cards-grid {
    grid-template-columns: 1fr !important;
    gap: 16px !important;
  }

  .decisions-grid {
    grid-template-columns: 1fr !important;
  }

  .docs-layout {
    grid-template-columns: 1fr !important;
    gap: 24px !important;
  }

  .docs-layout > div:first-child {
    position: relative !important;
    top: auto !important;
  }

  .admin-grid {
    grid-template-columns: 1fr !important;
  }

  .two-col-grid {
    grid-template-columns: 1fr !important;
  }

  .form-container {
    padding: 24px !important;
  }

  .catalog-cards-grid {
    grid-template-columns: 1fr !important;
    gap: 20px !important;
  }

  .catalog-card {
    flex-direction: column !important;
    min-height: auto !important;
  }

  .catalog-card > div:first-child {
    width: 100% !important;
    min-width: 100% !important;
    height: 200px !important;
  }

  .catalog-card > div:last-child {
    padding: 20px !important;
  }

  .card-preview-scaled {
    transform: scale(0.5) !important;
  }
}

/* Tablet landscape - 1024px and below */
@media (max-width: 1024px) {
  .user-cards-grid {
    grid-template-columns: 1fr !important;
    gap: 16px !important;
  }

  .decisions-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

/* Desktop breakpoint - above 768px */
@media (min-width: 769px) {
  .hero-metrics {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 24px !important;
  }

  .hero-cta-buttons {
    flex-direction: row !important;
    flex-wrap: wrap !important;
  }

  .architecture-cards {
    display: grid !important;
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 24px !important;
  }

  .metrics-grid {
    grid-template-columns: repeat(4, 1fr) !important;
  }

  .search-filter-bar {
    flex-direction: row !important;
    align-items: stretch !important;
  }

  .search-filter-bar select {
    min-width: 240px !important;
    width: auto !important;
  }

  .page-header-flex {
    flex-direction: row !important;
    justify-content: space-between !important;
    align-items: flex-start !important;
  }

  .page-header-flex button {
    width: auto !important;
    max-width: none !important;
  }
}

/* Large desktop - above 1024px */
@media (min-width: 1025px) {
  .user-cards-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

/* Extra large desktop - above 1400px */
@media (min-width: 1401px) {
  .user-cards-grid {
    grid-template-columns: repeat(4, 1fr) !important;
  }
}
